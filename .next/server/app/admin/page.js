(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9628:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),a(8748),a(1506),a(5866);var i=a(3191),n=a(8716),o=a(7922),s=a.n(o),r=a(5231),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);a.d(t,d);let l=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8748)),"C:\\Users\\Himadri\\Documents\\GitHub\\Youtube-Video-And-Music-Downloader\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\Himadri\\Documents\\GitHub\\Youtube-Video-And-Music-Downloader\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Himadri\\Documents\\GitHub\\Youtube-Video-And-Music-Downloader\\app\\admin\\page.tsx"],u="/admin/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9160:(e,t,a)=>{Promise.resolve().then(a.bind(a,8381))},9561:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},5303:()=>{},8381:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var i=a(326),n=a(7577);function o(){let[e,t]=(0,n.useState)(!1),[a,o]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),[d,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),[m,x]=(0,n.useState)(!1),[g,f]=(0,n.useState)("");async function y(){try{let e=await fetch("/api/admin/me"),t=await e.json();x(!!t?.authenticated)}catch{}try{let e=await fetch("/api/admin/cookie"),a=await e.json();if(t(!!a?.hasCookie),a?.lastUpdatedMs){let e=new Date(a.lastUpdatedMs);o(e.toLocaleString())}else o("")}catch(e){}}async function w(e){u(!0),p("");try{let t=await fetch("/api/admin/cookie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(await t.text());p("Saved"),r(""),l(""),await y()}catch(e){p(e?.message||"Failed")}finally{u(!1)}}async function b(){s.trim()&&await w({cookieHeader:s})}async function v(){d.trim()&&await w({cookiesTxt:d})}async function j(e){let t=e.target.files?.[0];if(t){u(!0),p("");try{let e=await t.text(),a=await fetch("/api/admin/cookie",{method:"POST",headers:{"Content-Type":"text/plain"},body:e});if(!a.ok)throw Error(await a.text());p("Uploaded"),await y()}catch(e){p(e?.message||"Failed")}finally{u(!1),e.currentTarget.value=""}}}async function P(){u(!0),p("");try{let e=await fetch("/api/admin/cookie",{method:"DELETE"});if(!e.ok)throw Error(await e.text());p("Deleted"),await y()}catch(e){p(e?.message||"Failed")}finally{u(!1)}}return m?(0,i.jsxs)("div",{style:{maxWidth:800,margin:"40px auto",padding:16},children:[i.jsx("h2",{children:"Admin: YouTube Cookie"}),(0,i.jsxs)("p",{children:["Status: ",e?"Cookie Saved":"No Cookie Saved"," ",a?`(Updated: ${a})`:""]}),h&&i.jsx("p",{children:h}),(0,i.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,i.jsxs)("div",{children:[i.jsx("label",{children:"Paste Cookie Header (single line):"}),i.jsx("textarea",{value:s,onChange:e=>r(e.target.value),rows:3,style:{width:"100%"}}),i.jsx("button",{onClick:b,disabled:c||!s.trim(),children:"Save Header"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{children:"Paste cookies.txt (Netscape format):"}),i.jsx("textarea",{value:d,onChange:e=>l(e.target.value),rows:6,style:{width:"100%"}}),i.jsx("button",{onClick:v,disabled:c||!d.trim(),children:"Save cookies.txt"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{children:"Upload cookies.txt file:"}),i.jsx("input",{type:"file",accept:".txt",onChange:j})]}),i.jsx("div",{children:i.jsx("button",{onClick:P,disabled:c||!e,children:"Delete Saved Cookie"})}),i.jsx("div",{children:i.jsx("button",{onClick:async()=>{u(!0),p("");try{let e=await fetch("/api/admin/logout",{method:"POST"});if(!e.ok)throw Error(await e.text());await y()}catch(e){p(e?.message||"Failed")}finally{u(!1)}},children:"Logout"})})]})]}):i.jsx(function(){return(0,i.jsxs)("div",{style:{maxWidth:400,margin:"40px auto",padding:16},children:[i.jsx("h2",{children:"Admin Login"}),i.jsx("p",{children:"Enter admin password to continue."}),i.jsx("input",{type:"password",value:g,onChange:e=>f(e.target.value),placeholder:"Password",style:{width:"100%",marginBottom:8}}),i.jsx("button",{disabled:!g.trim()||c,onClick:async()=>{u(!0),p("");try{let e=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:g})});if(!e.ok)throw Error(await e.text());f(""),await y()}catch(e){p(e?.message||"Login failed")}finally{u(!1)}},children:"Login"}),h&&i.jsx("p",{children:h})]})},{})}},8748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});let i=(0,a(8570).createProxy)(String.raw`C:\Users\Himadri\Documents\GitHub\Youtube-Video-And-Music-Downloader\app\admin\page.tsx#default`)},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>n});var i=a(9510);let n={title:"YouTube Downloader",description:"Download YouTube videos and music cleanly"};function o({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{style:{fontFamily:"Inter, system-ui, Arial, sans-serif",background:"#0b0f19",color:"#e6e8ee",margin:0},children:e})})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[948,471],()=>a(9628));module.exports=i})();